# War and Institutional Change: The Case of Gustav Line

This repository contains data, tables, and reproducible analysis supporting
the thesis **"War and Institutional Change: The Case of Gustav Line"**.

## Project structure

```
├── data/
│   ├── raw/                  # Original raw data (excluded from version control)
│   │
│   └── processed/            # Datasets generated during data preparation
│       ├── import/           # Raw-to-R imports (.dta/.txt/.gpkg → .rds)
│       ├── select/           # Variable selection and harmonization
│       └── merge/            # Merged datasets used for analysis
│
├── scripts/                  # R scripts for data preparation and analysis
│
├── results/                  
│   ├── tables/               # GeoRDD tables
│   │
│   └── figures/              # Figures
│
├── README.md                 # Project overview and replication instructions
└── LICENSE                   # License information
```

## Raw data

The analysis is based on replication datasets from the following studies:

- **Fontana, N., Nannicini, T., and Tabellini, G. (2023)**  
  *Historical roots of political extremism: The effects of Nazi occupation of Italy*  
  Journal of Comparative Economics, 51(3), 723–743  
  https://doi.org/10.1016/j.jce.2023.05.006

- **Gagliarducci, S., Onorato, M. G., Sobbrio, F., and Tabellini, G. (2020)**  
  *War of the Waves: Radio and Resistance during World War II*  
  American Economic Journal: Applied Economics, 12(4), 1–38  
  https://doi.org/10.1257/app.20190410

In addition, the analysis uses municipality-level results from the Italian
institutional referendum of 1946, which constitute the main outcome variable
in the empirical analysis.

The project also relies on geographic data processed in QGIS, including
municipality boundaries as of 2001 and distance measures from each municipality
to the nearest municipality located along the Gustav Line.

Raw data are not included in this repository. Detailed information on data
sources, access instructions, and GIS preprocessing steps is provided in
`data/raw/README.md`.

## Data preparation

All datasets used in the empirical analysis are stored in `data/processed/`.  
These files are generated by the scripts in the `scripts/` folder and should be considered fully reproducible intermediates.

The `processed/` directory is organized into three stages:

### `import/`

Contains datasets converted into a common `.rds` format from original sources (`.dta`, `.txt`, `.gpkg`, etc.).  
No variable transformations are applied at this stage. The purpose is to standardize file formats and ensure fast loading in R.

### `select/`

Contains datasets with the variables selected for the analysis and the definition of the key identifier.  
At this stage, variables not used in the empirical analysis are dropped, and the municipality code is defined and harmonized to 
ensure consistency across datasets and allow merging in subsequent steps.

### `merge/`

Contains the final dataset used in the empirical analysis, created by merging all relevant sources.  
This file is the direct input for the empirical analysis and are used to generate the tables and figures in the `results/` folder.

All files in `data/processed/` can be regenerated by running the scripts in the correct order, as described below.  
Additional details on the contents and structure of this folder are provided in `data/processed/README.md`.

## Scripts

The `scripts/` folder contains all R scripts necessary to reproduce the data preparation and empirical analysis.

Scripts are organized to reflect the data workflow:

- Import raw data and convert to `.rds` format  
- Select variables and define the key identifier  
- Merge datasets and construct the analysis sample  
- Run the empirical analysis and generate tables and figures  

Each script is numbered to indicate the order in which it should be executed.
Additional information on the role and execution of each script is provided in `scripts/README.md`.
