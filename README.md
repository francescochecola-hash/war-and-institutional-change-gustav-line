# War and Institutional Change: The Case of Gustav Line

This repository contains data, tables, and reproducible analysis supporting
the thesis **"War and Institutional Change: The Case of Gustav Line"**.

The Gustav Line was a major German defensive line during World War II,
stretching across the Italian peninsula and dividing the country into
occupied and liberated territories between 1943 and 1944.

This thesis studies whether this temporary military boundary left
persistent political effects on Italian municipalities.
Using a geographic regression discontinuity design, the analysis
examines how proximity to the Gustav Line shaped political outcomes,
with a focus on the 1946 institutional referendum.

All empirical results in the thesis can be reproduced using the provided code, conditional on access to the raw data described below.

---

# Replication Instructions

## Software Requirements

- R version 4.2 or higher  
- RStudio (recommended)

All required R packages are automatically installed by the replication script if missing.

---

## How to Replicate the Results

1. Download or clone this repository.
2. Place all required raw data files inside the `data/raw/` folder (see section below).
3. Open the `.Rproj` file in RStudio.
4. Run:

```r
source("00_run_all.R")
```

The script will:

- Import and process all raw data  
- Construct the merged analysis dataset  
- Reproduce all tables  
- Reproduce all figures  
- Save a replication log in `results/run_all_log.txt`  

All outputs will be saved in:

```
results/tables/
results/figures/
```

## Project structure

```
├── 00_run_all.R              # Master script to reproduce entire project
├── data/
│   ├── raw/                  # Original raw data (excluded from version control)
│   └── processed/            # Generated datasets
│       ├── import/           # Raw-to-R conversion (.dta/.txt/.gpkg → .rds)
│       ├── select/           # Variable selection and harmonization
│       └── merge/            # Merged datasets used for analysis
│
├── scripts/                  # R scripts for data preparation and analysis
├── results/                  
│   ├── tables/               # Empirical tables (CSV format)
│   └── figures/              # Figures (PNG format)
│
├── README.md                 
└── LICENSE                   
```

## Raw data

The analysis is based on replication datasets from the following studies:

- **Fontana, N., Nannicini, T., and Tabellini, G. (2023)**  
  *Historical roots of political extremism: The effects of Nazi occupation of Italy*  
  Journal of Comparative Economics, 51(3), 723–743  
  https://doi.org/10.1016/j.jce.2023.05.006

- **Gagliarducci, S., Onorato, M. G., Sobbrio, F., and Tabellini, G. (2020)**  
  *War of the Waves: Radio and Resistance during World War II*  
  American Economic Journal: Applied Economics, 12(4), 1–38  
  https://doi.org/10.1257/app.20190410

In addition, the analysis uses:

- Municipality-level results from the 1946 Italian institutional referendum

- GIS data processed in QGIS, including:
  - Municipality boundaries (ISTAT 2001)
  - The Gustav Line
  - Distance to the Gustav Line

Raw data are **not included** in this repository due to licensing and size constraints.

Detailed information on required files and preprocessing steps is available in `data/raw/README.md`.

## Data preparation workflow

All intermediate datasets are stored in `data/processed/`.  

The workflow is divided into three stages:

### 1. `import/`

- Converts original files (`.dta`, `.txt`, `.gpkg`) into `.rds` format  
- No transformations applied  
- Ensures consistent and fast loading  

### 2. `select/`

- Selects variables used in the empirical analysis  
- Harmonizes municipality identifiers  
- Prepares datasets for merging  

### 3. `merge/`

- Produces the final analysis dataset  
- This dataset is the direct input for all empirical specifications  

All processed files are fully reproducible and can be regenerated by running `00_run_all.R`.

## Scripts

The `scripts/` folder contains all R scripts necessary to reproduce:

- Data import  
- Data cleaning and harmonization  
- Dataset merging  
- GeoRDD analysis  
- RDRobust estimation  
- Density tests  
- Tables  
- Figures  

Scripts are numerically ordered to reflect the workflow and are executed automatically by `00_run_all.R`.

Additional documentation is available in `scripts/README.md`
Each script is numbered to indicate the order in which it should be executed.
Additional information on the role and execution of each script is provided in `scripts/README.md`.

# Reproducibility Notes

- All file paths are defined using the `here` package  
- The project uses an RStudio Project file (`.Rproj`) to ensure consistent working directories  
- All outputs are generated programmatically  
- A full execution log is saved in `results/run_all_log.txt`  

---

# License

This repository is distributed under the terms specified in the `LICENSE` file.
